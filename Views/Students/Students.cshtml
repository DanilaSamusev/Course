@model List<Student>
@using AccountingSystem.Models

<!DOCTYPE html>

<html>
<head>
    <title>Students</title>
    <link href="~/css/common.css" type="text/css" rel="stylesheet"/>
    <link href="~/css/Students/students.css" type="text/css" rel="stylesheet"/>
    <script src="~/js/students.js" type="text/javascript"></script>
</head>
<body>

@if (Model == null || Model.Count == 0)
{
    <h1 class="noDataMessage">Нет данных</h1>
}
else{
    <h1 class="mainH1">Успеваемость студентов</h1>
    
<div id="modifyWindow">
    <img class="closeImage" onclick="modifyStudent('none')" src="~/images/close.png">
    <h1>Введите новые данные</h1>

    <form action="~/Students/UpdateStudent">
        <input type="hidden" id="modifyId" name="Id"/>
        <input placeholder="Группа" name="GroupNumber"/><br/>
        <input placeholder="Имя" name="Name"/><br/>
        <input placeholder="Фамилия" name="Surname"/><br/>
        <input placeholder="Отчество" name="Patronymic"/><br/>
        <button class="updateButton" type="submit">Принять</button>
    </form>
</div>

<div id="deleteWindow">
    <img class="closeImage" onclick="deleteStudent('none')" src="~/images/close.png">
    <h1>Вы уверены?</h1>

    <form action="~/Students/DeleteStudent">
        <input type="hidden" id="deleteId" name="Id"/>
        <button class="deleteButton" type="submit">Принять</button>
    </form>
</div>

<div>
    <table>
        <tr>
            <th>Группа</th>
            <th>Имя</th>
            <th>Фамилия</th>
            <th>Отчество</th>
            <th>Количесвто задолжностей</th>
        </tr>
        @foreach (Student student in Model)
        {
            <tr>
                <td>@student.GroupNumber</td>
                <td>@student.Name</td>
                <td>@student.Surname</td>
                <td>@student.Patronymic</td>
                <td>@student.Debts</td>
                <td>
                    <form action="~/Rating/Rating">
                        <input type="hidden" name="studentId" value=@student.Id />
                        <button type="submit">Успеваемость</button>
                    </form>
                </td>
                <td>
                    <button onclick="modifyStudent('block', @student.Id )">Редактировать</button>
                </td>
                <td>
                    <button onclick="deleteStudent('block', @student.Id )">Удалить</button>
                </td>
            </tr>
        }
    </table>
</div>
}

<form class="searchForm" action="~/Students/Search">
    Поиск по
    <select name="option">
        <option value="sortByDebts">количеству задолжностей:</option>
        <option value="sortByGroup">группе:</option>
        <option value="sortBySurname">фамилии:</option>
    </select>
    <input placeholder="Поиск..." name="value"></input>
    <button class="searchButton" type="submit">Поиск</button>
</form>

<form class="menuForm" action="~/Menu/Menu">
    <button type="submit">В меню</button>
</form>

<form class="resetForm" action="~/Students/ResetSearch">
    <button class="resetButton" type="submit">Сброс поиска</button>
</form>

<form class="addForm" method="get" action="~/Students/AddStudent">
    <button class="addButton" type="submit">Добавить студента</button>
</form>

</body>
</html>